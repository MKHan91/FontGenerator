<!DOCTYPE html>
<html lang="ko">

<head>
    <% include ../views/partials/head %>
    <meta charset="UTF-8">
    <title>Font Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"></script>

    <style>

        #upload-btn.custom-btn {
            background-color: #a09f9f; /* 배경색 */
            border: none; /* 테두리 제거 */
            color: white; /* 텍스트 색상 */
            padding: 15px 32px; /* 패딩 */
            text-align: center; /* 텍스트 가운데 정렬 */
            text-decoration: none; /* 텍스트 장식 제거 */
            display: inline-block; /* 인라인 블록 */
            font-size: 16px; /* 폰트 크기 */
            margin-top: 20px; /* 위쪽 여백 */
            border-radius: 12px; /* 모서리 둥글기 */
            box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.2); /* 그림자 */
            transition: background-color 0.3s ease; /* 배경색 전환 효과 */
        }
        #upload-btn.custom-btn:hover {
            background-color: #2e2d2d; /* 호버 시 배경색 */
        }
    </style>    
</head>

    <!-- ======= Hero Section ======= -->
    <section id="hero">
        <div class="hero-container">
          <h3 style="font-size: 4em;">Upload <strong>complete</strong></h3>
          <div class="container" style="padding-top: 20px">
            <div class="row">
                <div class="col-lg-12">
                    <form id="uploadForm" class="form" action="/progress" method="POST">
                        <!-- <form id="uploadForm" class="form" action="/upload" method="POST"> -->
                        <!-- <form id="uploadForm" class="form"> -->
                        <div class="content"
                        style="background-color: white; padding-top: 60px; padding-bottom: 40px; margin-bottom: 10px; border-radius: 30px; margin-left: auto; margin-right: auto;">
                            <img src="./uploads/1-uniform.png" class="images" />
                            <img src="./uploads/2-uniform.png" class="images" />
                            <img src="./uploads/3-uniform.png" class="images" />
                            <span id="status" style="display: block;"></span>
                            <center>
                                <input id="upload-btn" type="submit" class="custom-btn" value="START" name="submit" />
                            </center>
                            <div class="loader" style="display: none"></div>
                            <div class="loader" style="display: none"></div>
                            <div class="loader" style="display: none"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </div>
    </section><!-- End Hero -->

    <script>
        var intervalObj;
        $(document).ready(function () {
            $('#uploadForm').on('submit', function (e) {
                e.preventDefault(); // 현재 이벤트의 기본 동작을 중단한다.

                //   var startTrain = $(this).serialize();

                $('.loader').css({ 'display': 'inline-block' })
                $('#upload-btn').css({ 'display': 'none' })
                // Begin uploading (this will start entire training)

                $(this).ajaxSubmit({
                    url: '/progress',
                    type: "POST",
                    data: 'startTrain',
                    // data: startTrain,
                    error: function (xhr) {
                        $("#status").empty().text('Error: ' + xhr.status);
                    },

                    success: function (response) {
                        window.location.href = '/progress'
                        // window.location.href="/progress"
                    }
                });
                return false;
            });
        });
    </script>

</body>

</html>
